<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <p>
            Choose a weapon among the three Available ( FIRE, ICE, WATER), and 
            Computer also chooses a weapon randomly. 
        </p>
        <ol>
            <li> IF THE COMPUTER WEAPON IS THE SAME AS YOURS, THEN IT'S A TIE</li>
            <li>IF THE COMPUTER CHOOSES A WEAKER WEAPON TO YOURS, THEN YOU WIN</li>
            <li>IF THE COMPUTER CHOOSES A STRONGER WEEAPON THAN YOURS, THEN YOU LOOSE </li>
        </ol>
        <P>
            How it works: 
        </P>
        <ol>
            <li>Fire MELTS Ice</li>
            <li>Water KILLS Fire</li>
            <li>Ice FREEZES Water</li>
        </ol>

        <p id="result-board">  RESULT WILL BE DISPLAY HERE</p>

        <img id="ice-button" src="ICE.webp" onclick="pick('ice')"></img>

        <img src="FIRE.webp"  id="fire-button" onclick="pick('fire') "></img>

        <img id="water-button" src="WATER.webp" onclick="pick('water')  "></img>

            <p id="score-table"> computer score: player score: </p>
            <p id="wins-board">WINS: TIES: LOSSES:  </p>

        <button id="reset-button" onclick="reset()"> RESET SCORES</button>


        <script>
            function pick(number){
                    let randomNumber = Math.random();
                   
                    //generates a pick for the computer
                if( randomNumber >= 0 && randomNumber <= 1/3 ){
                    computerNumber = 'Ice';
                } else if( randomNumber >1/3 && randomNumber <=2/3 ){
                    computerNumber = 'Fire'
                }else if( randomNumber >2/3 && randomNumber <1 ){
                    computerNumber = 'Water'
                }

                //decides if its a win or a tie or a loss
                if (number === 'ice'){
                    if (computerNumber === 'Ice'){
                    result = 'TIE'
                    }else if(computerNumber === 'Fire'){
                        result = 'YOU LOST'
                    }else if(computerNumber === 'Water'){
                        result = 'YOU WIN'
                    }

                } else if (number === 'fire'){
                    if (computerNumber === 'Ice'){
                        result = 'YOU WIN'
                    }else if(computerNumber === 'Fire'){
                        result = 'TIE'
                    }else if(computerNumber === 'Water'){
                        result = 'YOU LOST'
                    }

                }else if(number === 'water'){
                    if (computerNumber === 'Ice'){
                        result = 'YOU LOST'
                    }else if(computerNumber === 'Fire'){
                        result = 'YOU WIN'
                    }else if(computerNumber === 'Water'){
                        result = 'TIE'
                    }
                }
                    // adds new results to the previous results
                if(result === 'YOU WIN'){
                    scores.playerscore +=3;
                    play.wins += 1;
                }else if (result === 'YOU LOST'){
                    scores.computerScore += 3;
                    play.losses += 1; 
                }else if(result ==='TIE'){
                    scores.computerScore += 1;
                    scores.playerscore += 1;
                    play.ties += 1;
                };

                    //saves the result and scores so data doesn't get lost after reload
                    localStorage.setItem('gamePlays', JSON.stringify(play));
                    localStorage.setItem('gameScores', JSON.stringify(scores));


                    //displays the results after picks are made
                document.getElementById('result-board').innerText= ` Computer picked ${ computerNumber} so therefore, ${result}.`;
                document.getElementById( 'score-table').innerText= `computer score:${scores.computerScore} player score:${scores.playerscore}  `;
                document.getElementById('wins-board').innerText= `WINS:${play.wins} TIES:${play.ties} LOSSES:${play.losses}`;

            }
        
            let computerNumber = '';
            let result ='';
            let play = JSON.parse(localStorage.getItem('gamePlays'));
            // {wins: 0, ties: 0, losses: 0};
            let scores = JSON.parse(localStorage.getItem('gameScores'));
            //{playerscore: 0, computerScore: 0 };

            function reset(){

                //resets the saved scores from previous rounds to 0
                localStorage.removeItem('gamePlays');
                localStorage.removeItem('gameScores')
                play = { wins: 0, losses:0, ties:0 }
                scores ={ playerscore:0, computerScore:0}
                //displays the default scores and results 0
                document.getElementById( 'score-table').innerText= `computer score: 0 player score:0 `;
                document.getElementById('wins-board').innerText= `WINS:0 TIES:0 LOSSES:0`;

            }
            


        </script> 
    </body>
</html>